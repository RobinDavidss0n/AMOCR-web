<body>
    <div class="container is-fluid">
        <h1 class="is-size-1">View OCR results</h1>

        <form class="form" action="/results/csv/download" method="POST">
            <button class="btn"><i class="fa fa-download"></i> Download CSV</button>
        </form>

        {{#if errorsFound}}
        <h2 class="is-size-2">The following error occurred:</h2>
        <p>{{errorCode}}</p>
        {{#if errorDetails}}
        <p>{{errorDetails}}</p>
        {{/if}}
        {{/if}}

        {{#if newReading}}
        <h2 class="is-size-2">Reading results per file:</h2>
        {{/if}}

        {{#if result.length}}
        <table class="table is-striped">
            <thead>
                <tr>
                    {{#unless newReading}}
                    <th>Id</th>
                    {{/unless}}

                    <th>Filename</th>
                    <th>OCR Result</th>
                    <th>Correct value</th>
                    <th>Correct digits</th>
                    <th>All Correct</th>
                    
                    <th>OCR Result UPSCALE</th>
                    <th>Correct digits UPSCALE</th>
                    <th>All Correct UPSCALE</th>

                    {{#unless newReading}}
                    <th>Original name</th>
                    {{/unless}}

                    {{#unless newReading}}
                    <th>PPT</th>
                    {{/unless}}

                    {{#unless newReading}}
                    <th>Color depth</th>
                    {{/unless}}

                    {{#unless newReading}}
                    <th>Bin size</th>
                    {{/unless}}

                    {{#unless newReading}}
                    <th>Zip size</th>
                    {{/unless}}

                    {{#unless newReading}}
                    <th>PNG size</th>
                    {{/unless}}

                    {{#unless newReading}}
                    <th>Base image</th>
                    {{/unless}}

                    {{#unless newReading}}
                    <th>Date</th>
                    {{/unless}}
                </tr>
            </thead>
            <tbody>
                {{#each result}}
                <tr>
                    {{#unless ../newReading}}
                    <td>{{id}}</td>
                    {{/unless}}

                    <td>{{filename}}</td>
                    <td>{{ocr_result}}</td>
                    <td>{{correct_value}}</td>
                    <td>{{correct_digits}}</td>
                    <td>{{all_correct}}</td>

                    <td>{{ocr_result_upscale}}</td>
                    <td>{{correct_digits_upscale}}</td>
                    <td>{{all_correct_upscale}}</td>

                    {{#unless ../newReading}}
                    <td>{{original_name}}</td>
                    {{/unless}}

                    {{#unless ../newReading}}
                    <td>{{ppt}}</td>
                    {{/unless}}

                    {{#unless ../newReading}}
                    <td>{{color_depth}}</td>
                    {{/unless}}

                    {{#unless ../newReading}}
                    <td>{{bin_size}}</td>
                    {{/unless}}    

                    {{#unless ../newReading}}
                    <td>{{zip_size}}</td>
                    {{/unless}}

                    {{#unless ../newReading}}
                    <td>{{png_size}}</td>
                    {{/unless}}                    
                    {{#unless ../newReading}}
                    <td>{{is_base_image}}</td>
                    {{/unless}}

                    {{#unless ../newReading}}
                    <td>{{created_on}}</td>
                    {{/unless}}
                </tr>
                {{/each}}
            </tbody>
        </table>
        {{/if}}
    </div>
</body>